window.FragmentEvents=()=>{let t;function e(e){const a=t.getCurrentSlide(),n=t.getState().indexf,s=a.hasAttribute("data-fragment-event-state")?+a.getAttribute("data-fragment-event-state"):-2,r=[],d=[];if(s<=n)for(let t=s+1;t<=n;t++)r.push(t);else{r.push(n);for(let t=s;t>n;t--)d.push(t)}const i={getFragment:t=>a.querySelector(`[data-fragment-index="${t}"]`),getFragments:t=>a.querySelectorAll(`[data-fragment-index="${t}"]`),setData:(t,e)=>a.setAttribute(`data-fe-${t}`,e),getData:t=>a.getAttribute(`data-fe-${t}`),hasData:t=>a.hasAttribute(`data-fe-${t}`),slide:a};console.log(`idx: ${n}, last:${s}, show:${r}, hide:${d}, attr:${a.getAttribute("data-fragment-event-state")}`),-2===s&&t.dispatchEvent({type:"fragmentevent_init",data:i}),(r.length>0||d.length>0)&&t.dispatchEvent({type:"fragmentevent_change",data:{...i,showFragments:r,hideFragments:d,lastActiveFragment:s,fragmentIndex:n}}),a.setAttribute("data-fragment-event-state",n)}function a(){!function(t){const e=document.head||document.getElementsByTagName("head")[0],a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=`${window.ModelViewerPluginFile}/${t}.css`,a.media="all",e.appendChild(a)}("main");const t=document.getElementsByTagName("Fragment");for(const e of t)e.classList.add("fragment")}return{id:"fragmentevents",init:function(n){t=n,a(),n.on("ready",e),n.on("slidechanged",e),n.on("fragmentshown",e),n.on("fragmenthidden",e)}}};